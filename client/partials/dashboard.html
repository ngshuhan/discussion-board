<div  class="container" ng-controller="dashboardController">
	<h1>Welcome, {{$storage.user.name}}!</h1>
	<div class="row">
		<form class="form col-sm-2 col-sm-offset-10">
			<div class="form-group">
				<input class="form-control" type="text" placeholder="search...." ng-model="filter_name">
			</div>
		</form>
	</div>
	
	
	<table class="table table-bordered">
		<tr>
			<th>Category</th>
			<th>Topic</th>
			<th>User Name</th>
			<th>Posts</th>
		</tr>
		<tr ng-repeat="topic in topics | filter:filter_name | orderBy: 'created_at':true ">
			<td>{{topic._category.name}}</td>
			<td><a href="#/topic/{{topics.indexOf(topic)}}">{{topic.text}}</a></td>
			<td><a href="#/users/{{topic._user._id}}">{{topic._user.name}}</a></td>
			<td>{{topic.post.length}}</td>

		</tr>
	</table>



	<form class="form-horizontal col-sm-6">

		<fieldset>
			<legend>Add a New Topic</legend>
			<div class="form-group">
				<label class="control-label col-sm-2">Topic:</label> 
				<div class="col-sm-10">
					<input class="form-control" type="text" ng-model="newTopic.text">
				</div>	
			</div>

			<div class="form-group">
				<label class="control-label col-sm-2">Description:</label> 
				<div class="col-sm-10">
					<textarea class="form-control" ng-model="newTopic.description"></textarea>
				</div>
			</div>
			<div class="form-group">
				<label class="control-label col-sm-2">Cateogry:</label>
				<div class="col-sm-10">
					<select class="form-control" ng-model="newTopic.category" ng-options="category.name for category in categories">
					<option value="">----choose categories---</option>
				</select>
				</div>
			</div>
			<input class="btn btn-primary pull-right" type="submit" value="submit" ng-click="addTopic()">
			

		</fieldset>
		
	</form>
</div>